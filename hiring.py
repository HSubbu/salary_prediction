# -*- coding: utf-8 -*-
"""hiring.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1Sw7LhPqKNKS4UApmngeq31v1pcayEIbl
"""

import pandas as pd 
import numpy as np
import matplotlib.pyplot as plt

df = pd.read_csv('/content/salary_predict_dataset.csv')
df

df.isnull().sum()

df.shape

df.info()

df['experience'].unique()

df['test_score'].fillna(df['test_score'].mean(),inplace=True)

df['interview_score'].fillna(df['interview_score'].mean(),inplace=True)

df['experience'].fillna(0,inplace=True)

df.isnull().sum()

df['experience'].unique()

help_dict = {
    'one': '1',
    'three': '3',
    'four': '4',
    'five': '5',
    'six': '6',
    'seven': '7',
    'eight': '8',
    'nine': '9',
    'ten' : '10',
    'eleven':'11',
    'twelve':'12',
    'fifteeen':'15',
    'thirteen':'13'
}

df['experience'] = df['experience'].map(help_dict)

df['experience'].fillna(0,inplace=True)

df

df['experience']=df['experience'].astype('int')

X = df.drop('Salary',axis=1)
y = df['Salary']

from sklearn.model_selection import train_test_split
X_train,X_test,y_train,y_test = train_test_split(X,y,test_size=0.15,random_state=42)

from sklearn.linear_model import LinearRegression
model = LinearRegression()
model.fit(X_train,y_train)
preds = model.predict(X_test)

from sklearn import metrics

metrics.r2_score(y_test,preds)

model.predict([[5,8,7]])

import pickle
pickle.dump(model,open('hiring_model.pkl','wb'))

